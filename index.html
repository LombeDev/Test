<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Kopala FPL Elite</title>
    
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#189E4B">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="/icons/icon-192x192.png">

    <link rel="stylesheet" href="style.css">
</head>
<body>

<div id="kopala-app">
    <section id="login-screen" class="view">
        <div class="auth-card">
            <div class="header-main">
                <span class="badge">ZAMBIA FPL</span>
                <h1>Mwishibe Kopala</h1>
                <p>Enter Team ID to sync your squad</p>
            </div>
            <div class="auth-body">
                <input type="number" id="team-id-input" placeholder="Enter ID (e.g. 123456)">
                <button onclick="loginWithID()" class="btn-full">Sync My Team</button>
                <button class="btn-text" onclick="toggleHelp()">Where do I find my ID?</button>
                <div id="help-box" class="hidden">
                    <p>Login to FPL > Go to 'Points' tab > Check the URL. Your ID is the number after <code>/entry/</code>.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="dashboard-screen" class="view hidden">
        <header class="manager-header">
            <div class="profile-main">
                <div id="m-initials" class="avatar">--</div>
                <div class="m-info">
                    <h2 id="m-team-name">Team Name</h2>
                    <p id="m-manager-name">Manager Name</p>
                </div>
                <button onclick="logout()" class="btn-logout">Logout</button>
            </div>
            <div class="stats-bar">
                <div class="stat"><span>Rank</span><strong id="m-rank">--</strong></div>
                <div class="stat"><span>Total</span><strong id="m-total">--</strong></div>
                <div class="stat"><span>Bank</span><strong id="m-bank" class="copper">£0.0m</strong></div>
            </div>
        </header>

        <div id="pitch-skeleton" class="pitch-area">
            <div class="pitch-row"><div class="skeleton-p"></div></div>
            <div class="pitch-row"><div class="skeleton-p"></div><div class="skeleton-p"></div><div class="skeleton-p"></div></div>
            <div class="pitch-row"><div class="skeleton-p"></div><div class="skeleton-p"></div><div class="skeleton-p"></div></div>
            <div class="pitch-row"><div class="skeleton-p"></div><div class="skeleton-p"></div></div>
        </div>

        <div id="pitch-real" class="pitch-area hidden">
            <div id="player-grid"></div>
        </div>
    </section>

    <div id="confirm-modal" class="modal hidden">
        <div class="modal-content">
            <h3>Review Transfers</h3>
            <div id="summary-list" class="summary-list"></div>
            <div id="hit-warning" class="warning-box hidden">
                ⚠️ Point Penalty: <span id="penalty-val">-4</span>
            </div>
            <div class="modal-actions">
                <button onclick="closeConfirm()" class="btn-secondary">Cancel</button>
                <button onclick="finalizeTransfers()" class="btn-primary">Confirm & Save</button>
            </div>
        </div>
    </div>

    <div id="save-bar" class="save-bar">
        <div class="bar-text">Pending Transfers</div>
        <button onclick="showSummary()" class="btn-save">Review & Save</button>
    </div>
</div>

<script src="app.js"></script>
</body>
</html>
